/*CREATE TABLE BIGLIETTERIA
(
    ID_BIGLIETTERIA INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    NOME_BIGLIETTERIA VARCHAR(50) NOT NULL,
    INDIRIZZO VARCHAR(60) NOT NULL
);*/

/*CREATE TABLE BIGLIETTO
(
    ID_BIGLIETTO INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    COSTO DOUBLE NOT NULL,
    DATA_EVENTO VARCHAR(20) NOT NULL,
    CATEGORIA VARCHAR(50) NOT NULL
);*/

/*CREATE TABLE BIGLIETTERIA_VENDE_BIGLIETTI -- CREAZIONE RELAZIONE TRA BIGLIETTI  E BIGLIETTERIA
(
    ID_BIGLIETTERIA INT NOT NULL,
    ID_BIGLIETTO INT NOT NULL,
    QUANTITA INT NOT NULL,

    FOREIGN KEY(ID_BIGLIETTERIA) REFERENCES BIGLIETTERIA(ID_BIGLIETTERIA) ON DELETE CASCADE,
    FOREIGN KEY(ID_BIGLIETTO) REFERENCES BIGLIETTO(ID_BIGLIETTO) ON DELETE CASCADE,

    PRIMARY KEY(ID_BIGLIETTERIA, ID_BIGLIETTO)
);*/

/*CREATE TABLE UTENTE
(
    ID_UTENTE INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    NOME_UTENTE VARCHAR(50) NOT NULL,
    COGNOME_UTENTE VARCHAR(50) NOT NULL
);*/


CREATE TABLE UTENTE_COMPRA_BIGLIETTO -- CREO RELAZIONE TRA BIGLIETTO ED UTENTE
(
    ID_UTENTE INT NOT NULL,
    ID_BIGLIETTO INT NOT NULL,
    QUANTITA_BIGLIETTI_ACQUISTATI INT NOT NULL,
    DATA_ACQUISTO VARCHAR(20) NOT NULL,

    FOREIGN KEY(ID_UTENTE) REFERENCES UTENTE(ID_UTENTE) ON DELETE CASCADE,
    FOREIGN KEY(ID_BIGLIETTO) REFERENCES BIGLIETTO(ID_BIGLIETTO) ON DELETE CASCADE,

    PRIMARY KEY (ID_UTENTE, ID_BIGLIETTO, DATA_ACQUISTO)
);


